<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Typer CS2</title>
<script src="https://accounts.google.com/gsi/client" async defer></script>
<script src="script.js" defer></script>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { background-color: #1e1e2f; color: #fff; }
  .fadeIn { animation: fadeIn 0.5s ease forwards; opacity: 0; }
  @keyframes fadeIn { to { opacity: 1; } }
  .btn { transition: transform 0.2s, background-color 0.2s; }
  .btn:hover { transform: scale(1.05); }
  .card { transition: transform 0.2s, box-shadow 0.2s; }
  .card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.4); }
</style>
</head>
<body class="font-sans min-h-screen flex items-center justify-center">

<!-- LOGIN -->
<div id="loginCard" class="bg-gray-800 p-8 rounded shadow-md w-96 text-center fadeIn">
  <h1 class="text-3xl font-bold mb-4">Typer CS2</h1>
  <p class="mb-6">Turniejowy typer — logowanie Google</p>
  <div id="g_id_onload"
       data-client_id="131506095440-6msi2u50gduo2tsipgjfpb6jn1t5j7l7.apps.googleusercontent.com"
       data-context="signin"
       data-callback="onGoogleSignIn"
       data-auto_prompt="false">
  </div>
  <div class="g_id_signin" data-type="standard"></div>
</div>

<!-- NICK -->
<div id="nickCard" class="bg-gray-800 p-6 rounded shadow-md w-96 hidden fadeIn text-center">
  <h2 class="text-xl font-semibold mb-3">Ustaw swój nick</h2>
  <input type="text" id="nickInput" placeholder="Twój nick" class="p-2 rounded text-black w-full mb-3">
  <button onclick="saveNick()" class="btn bg-yellow-400 hover:bg-yellow-500 px-4 py-2 rounded font-bold w-full">Zapisz</button>
  <p id="nickMsg" class="text-red-500 mt-2"></p>
</div>

<!-- MAIN APP -->
<div id="mainApp" class="hidden w-full max-w-4xl fadeIn p-4">

  <div class="flex justify-between items-center mb-6">
    <h1 class="text-3xl font-bold">Panel użytkownika</h1>
    <div>
      <span id="userDisplay" class="font-semibold"></span>
      <button onclick="signOut()" class="btn ml-2 bg-red-600 hover:bg-red-700 px-3 py-1 rounded">Wyloguj</button>
    </div>
  </div>

  <!-- TABS -->
  <div class="flex gap-2 mb-6">
    <button onclick="showTab('typy')" id="tabTypyBtn" class="btn bg-yellow-400 hover:bg-yellow-500 px-4 py-2 rounded font-bold">Typy</button>
    <button onclick="showTab('ranking')" id="tabRankingBtn" class="btn bg-yellow-400 hover:bg-yellow-500 px-4 py-2 rounded font-bold">Ranking</button>
    <button onclick="showTab('admin')" id="tabAdminBtn" class="btn bg-yellow-400 hover:bg-yellow-500 px-4 py-2 rounded font-bold">Admin</button>
  </div>

  <!-- TAB: TYPY -->
  <div id="tab-typy" class="tab fadeIn">
    <h2 class="text-2xl font-semibold mb-4">Dostępne mecze</h2>
    <div id="matchesList" class="flex flex-col gap-3"></div>
  </div>

  <!-- TAB: RANKING -->
  <div id="tab-ranking" class="tab hidden fadeIn">
    <h2 class="text-2xl font-semibold mb-4">Ranking</h2>
    <div id="rankingList" class="flex flex-col gap-2"></div>
  </div>

  <!-- TAB: ADMIN -->
  <div id="tab-admin" class="tab hidden fadeIn">
    <h2 class="text-2xl font-semibold mb-4">Panel admina</h2>

    <div class="bg-gray-700 p-4 rounded mb-4">
      <h3 class="font-semibold mb-2">Dodaj mecz</h3>
      <input type="text" id="adminTeamA" placeholder="Team A" class="p-1 rounded text-black mr-2">
      <input type="text" id="adminTeamB" placeholder="Team B" class="p-1 rounded text-black mr-2">
      <input type="time" id="adminTime" class="p-1 rounded text-black mr-2">
      <button onclick="adminAddMatch()" class="btn bg-green-500 hover:bg-green-600 px-3 py-1 rounded font-bold">Dodaj</button>
    </div>

    <div id="adminMatches" class="flex flex-col gap-2 mb-4"></div>

    <div class="bg-gray-700 p-4 rounded">
      <h3 class="font-semibold mb-2">Zarządzanie użytkownikami</h3>
      <div id="adminUsers" class="flex flex-col gap-1"></div>
    </div>
  </div>

</div>
</body>
</html>
