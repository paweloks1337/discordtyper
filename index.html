<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Typer CS2</title>

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Google Sign-In -->
<script src="https://accounts.google.com/gsi/client" async defer></script>

<!-- jwt-decode -->
<script src="https://cdn.jsdelivr.net/npm/jwt-decode/build/jwt-decode.min.js"></script>

<style>
body { background-color: #0b0d10; color: #e6e7e8; }
.accent { color: #ffd24d; }
.btn { @apply bg-gradient-to-r from-yellow-400 to-yellow-300 text-black font-semibold transition-transform transform hover:scale-105; }
.card { background: rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.1); border-radius: 0.75rem; padding:1rem; margin-bottom:1rem; }
.tab-btn-active { background: rgba(255,255,255,0.1); }
input, select { background: rgba(0,0,0,0.2); color:white; border:1px solid rgba(255,255,255,0.2); border-radius:0.5rem; padding:0.5rem; width:100%; }
</style>
</head>
<body class="p-4 font-sans">

<div class="max-w-3xl mx-auto">

  <!-- Nagłówek -->
  <header class="mb-6 text-center">
    <h1 class="text-4xl font-extrabold accent">Typer CS2</h1>
    <p class="text-gray-400">Turniejowy typer • Logowanie Google</p>
  </header>

  <!-- LOGIN -->
  <div id="loginCard" class="card text-center">
    <div id="g_id_onload"
         data-client_id="YOUR_GOOGLE_CLIENT_ID"
         data-context="signin"
         data-ux_mode="popup"
         data-callback="onGoogleSignIn">
    </div>
    <div class="g_id_signin" data-type="standard" data-size="large" data-theme="outline"></div>
    <p class="text-gray-400 mt-2 text-sm">Zaloguj się, aby typować mecze. Twój nick ustawisz po zalogowaniu.</p>
  </div>

  <!-- NICK -->
  <div id="nickSetup" class="card" style="display:none;">
    <h2 class="text-xl font-bold accent mb-2">Ustaw swój nick</h2>
    <input id="nickInput" placeholder="Twój nick" maxlength="20"/>
    <button class="btn mt-2 w-full" onclick="saveNick()">Zapisz nick</button>
  </div>

  <!-- GŁÓWNA APLIKACJA -->
  <div id="mainApp" style="display:none;">
    <!-- Tabs -->
    <nav class="flex gap-2 mb-4">
      <button class="tab-btn btn px-4 py-2" onclick="showTab('types')">Typy</button>
      <button class="tab-btn btn px-4 py-2" onclick="showTab('ranking')">Ranking</button>
      <button class="tab-btn btn px-4 py-2" id="adminTabBtn" style="display:none;" onclick="showTab('admin')">Panel Admina</button>
      <div class="ml-auto flex items-center gap-2 text-sm text-gray-300">
        <span id="userDisplay"></span>
        <button class="px-2 py-1 rounded bg-gray-800" onclick="signOut()">Wyloguj</button>
      </div>
    </nav>

    <!-- TYPY -->
    <div id="tab-types" class="tab card"></div>

    <!-- RANKING -->
    <div id="tab-ranking" class="tab card" style="display:none;"></div>

    <!-- PANEL ADMINA -->
    <div id="tab-admin" class="tab card" style="display:none;">
      <h2 class="text-xl font-bold accent mb-2">Panel Admina</h2>
      <input id="adminMatchA" placeholder="Drużyna A" class="mb-2"/>
      <input id="adminMatchB" placeholder="Drużyna B" class="mb-2"/>
      <input type="time" id="adminMatchTime" class="mb-2"/>
      <input type="number" id="adminMatchRounds" placeholder="Liczba rund (BOP)" class="mb-2"/>
      <button class="btn w-full" onclick="adminAddMatch()">Dodaj mecz</button>
      <div id="adminMatches" class="mt-4 space-y-2"></div>
    </div>
  </div>

  <footer class="mt-6 text-center text-gray-500 text-sm">Made for CS2 • Demo</footer>
</div>

<script src="app.js"></script>

</body>
</html>
