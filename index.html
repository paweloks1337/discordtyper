<!-- Google Sign-In -->
<script src="https://accounts.google.com/gsi/client" async defer></script>

<div id="login">
  <h2>Zaloguj się</h2>

  <div id="g_id_onload"
      data-client_id="131506095440-6msi2u50gduo2tsipgjfpb6jn1t5j7l7.apps.googleusercontent.com"
      data-context="signin"
      data-ux_mode="popup"
      data-callback="onGoogleSignIn">
  </div>

  <div class="g_id_signin"
      data-type="standard"
      data-size="large"
      data-theme="outline">
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/jwt-decode/build/jwt-decode.min.js"></script>

<script>
let nick = "";
let googleID = "";

function onGoogleSignIn(response) {
  const data = jwtDecode(response.credential);

  googleID = data.sub;
  nick = data.name;

  console.log("Zalogowano jako:", nick, googleID);

  // Ukrywamy logowanie
  document.getElementById("login").style.display = "none";

  // Pokaż resztę strony
  const panel = document.getElementById("panel");
  if (panel) panel.style.display = "block";
}
</script>
