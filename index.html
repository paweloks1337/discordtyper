<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Typer CS2</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.3/dist/tailwind.min.css" rel="stylesheet">
<script src="https://accounts.google.com/gsi/client" async defer></script>
<script src="https://cdn.jsdelivr.net/npm/jwt-decode/build/jwt-decode.min.js"></script>
<style>
  body { background-color: #1f2937; color: #f9fafb; font-family: 'Inter', sans-serif; }
  .btn { cursor: pointer; transition: all 0.2s; }
  .btn:hover { transform: scale(1.05); }
  .card { background-color: #374151; border-radius: 12px; padding: 1rem; margin-bottom: 1rem; }
</style>
</head>
<body class="min-h-screen flex flex-col items-center p-4">

<!-- ================== Logowanie ================== -->
<div id="loginCard" class="flex flex-col items-center justify-center h-screen">
  <h1 class="text-4xl font-bold mb-6">Typer CS2</h1>
  <p class="mb-4">Turniejowy typer — logowanie Google</p>
  <div id="g_id_onload"
       data-client_id="131506095440-6msi2u50gduo2tsipgjfpb6jn1t5j7l7.apps.googleusercontent.com"
       data-login_uri=""
       data-auto_prompt="false">
  </div>
  <div class="g_id_signin" data-type="standard"></div>
</div>

<!-- ================== Ustaw nick ================== -->
<div id="nickSetup" class="hidden flex flex-col items-center justify-center h-screen">
  <h2 class="text-2xl font-semibold mb-4">Wprowadź swój nick</h2>
  <input id="nickInput" type="text" class="p-2 rounded mb-2 text-black" placeholder="Twój nick">
  <button onclick="saveNick()" class="btn px-4 py-2 bg-blue-500 rounded hover:bg-blue-700">Zapisz</button>
  <p id="nickMsg" class="mt-2 text-red-400"></p>
</div>

<!-- ================== Główny panel ================== -->
<div id="mainApp" class="hidden w-full max-w-4xl flex flex-col">
  <div class="flex justify-between items-center mb-4">
    <span id="userDisplay" class="font-bold text-xl"></span>
    <button onclick="signOut()" class="btn px-3 py-1 bg-red-600 rounded hover:bg-red-800">Wyloguj</button>
  </div>

  <!-- Zakładki -->
  <div class="flex gap-2 mb-4">
    <button onclick="showTab('typowanie')" class="btn px-4 py-2 bg-gray-600 rounded hover:bg-gray-700 transition">Typowanie</button>
    <button onclick="showTab('ranking')" class="btn px-4 py-2 bg-gray-600 rounded hover:bg-gray-700 transition">Ranking</button>
    <button onclick="showTab('admin')" id="tabAdminBtn" class="btn px-4 py-2 bg-yellow-500 rounded hover:bg-yellow-600 transition hidden">Admin</button>
  </div>

  <!-- ================== Typowanie ================== -->
  <section id="tab-typowanie" class="tab">
    <h2 class="text-xl font-semibold mb-2">Mecze do typowania</h2>
    <div id="meczeList"></div>
  </section>

  <!-- ================== Ranking ================== -->
  <section id="tab-ranking" class="tab hidden">
    <h2 class="text-xl font-semibold mb-2">Ranking</h2>
    <div id="rankingList"></div>
  </section>

  <!-- ================== Panel admina ================== -->
  <section id="tab-admin" class="tab hidden">
    <h2 class="text-xl font-semibold mb-2">Panel admina</h2>
    
    <div class="mb-4">
      <h3 class="font-semibold mb-2">Dodaj mecz</h3>
      <input id="adminTeamA" placeholder="Team A" class="p-2 rounded text-black mr-2">
      <input id="adminTeamB" placeholder="Team B" class="p-2 rounded text-black mr-2">
      <input id="adminTime" type="time" class="p-2 rounded text-black mr-2">
      <input id="adminBO" type="number" placeholder="BO" class="p-2 rounded text-black mr-2" min="1" value="1">
      <button onclick="adminDodajMecz()" class="btn px-3 py-1 bg-green-500 rounded hover:bg-green-700">Dodaj</button>
    </div>

    <div class="mb-4">
      <h3 class="font-semibold mb-2">Mecze</h3>
      <div id="adminMecze"></div>
    </div>

    <div class="mb-4">
      <h3 class="font-semibold mb-2">Użytkownicy</h3>
      <div id="adminUsers"></div>
    </div>
  </section>
</div>

<script src="script.js"></script>
</body>
</html>
